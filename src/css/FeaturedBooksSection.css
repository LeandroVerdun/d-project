/* src/css/FeaturedBooksSection.css */

/* Contenedor de la tarjeta del libro destacado */
.featured-book-item {
  position: relative; /* Necesario para posicionar el overlay */
  width: 100%; /* Será controlado por el Bootstrap Grid / Flexbox */
  height: 480px; /* Altura fija para la uniformidad en escritorio */
  max-width: 300px; /* Limitar el ancho máximo para que no se estiren demasiado en pantallas grandes */
  border: 1px solid #ffc107; /* Borde amarillo para destacar */
  border-radius: 8px;
  overflow: hidden; /* Asegura que la imagen y el overlay no se salgan */
  display: flex; /* Para flexbox si la Card tiene mas cosas */
  flex-direction: column; /* Organizar contenido en columna */
  margin: 0 auto; /* Centra la tarjeta si no ocupa todo el col */
}

/* Wrapper para la imagen y el overlay de información */
.card-image-wrapper {
  position: relative;
  width: 100%;
  height: 100%; /* Ocupa toda la altura disponible en la tarjeta */
  overflow: hidden;
  display: flex; /* Asegura que la imagen dentro pueda estirarse */
}

/* La imagen en sí */
.featured-book-image {
  width: 100%;
  height: 100%; /* Ocupa toda la altura del wrapper */
  object-fit: cover; /* Esto hace que la imagen cubra el área, recortando si es necesario */
  object-position: center; /* Centra la imagen */
  transition: transform 0.3s ease-in-out; /* Pequeña animación al pasar el mouse */
}

/* Efecto hover en la imagen (opcional) */
.featured-book-item:hover .featured-book-image {
  transform: scale(1.05); /* Ligeramente más grande al pasar el mouse */
}

/* Overlay de información que se superpone a la imagen */
.featured-book-info-overlay {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  background: linear-gradient(
    to top,
    rgba(0, 0, 0, 0.9),
    rgba(0, 0, 0, 0.5),
    rgba(0, 0, 0, 0)
  ); /* Degradado de negro a transparente */
  color: white;
  padding: 15px;
  padding-bottom: 5px; /* Menos padding inferior para la categoría */
  display: flex;
  flex-direction: column;
  justify-content: flex-end; /* Empuja el contenido hacia abajo */
  max-height: 100%; /* Para que no desborde */
  transition: background 0.3s ease-in-out; /* Suaviza el cambio de fondo */
}

/* Estilo para el título en el overlay */
.featured-book-info-overlay .card-title {
  margin-bottom: 0.5rem;
  font-size: 1.25rem;
  line-height: 1.3;
}

/* Estilo para el autor y descripción */
.featured-book-info-overlay .card-text {
  font-size: 0.85rem;
  line-height: 1.3;
  margin-bottom: 0.25rem;
}

/* Control de truncado para la descripción */
.text-truncate-lines-2 {
  display: -webkit-box;
  -webkit-box-orient: vertical;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* Estilo para el precio */
.featured-book-info-overlay h5.text-success {
  margin-top: 0.5rem;
  margin-bottom: 0.5rem;
  font-size: 1.4rem;
  font-weight: bold;
}

/* NUEVO: Estilo para la etiqueta de categoría */
.category-tag {
  align-self: flex-end; /* Asegura que la categoría se alinee a la derecha si es flex */
  font-size: 0.75rem;
  font-weight: bold;
  padding: 3px 8px;
  margin-top: 5px; /* Espacio por encima de la etiqueta */
}

/* Ajustes para el carrusel y los elementos dentro */
.featured-books-carousel-wrapper .carousel-item .d-flex {
  width: 100%;
  justify-content: center;
  align-items: stretch; /* Asegura que todas las cards tengan la misma altura */
  flex-wrap: wrap; /* Permitir que los elementos se envuelvan si no hay espacio */
}

/* Ajusta los botones de navegación del carrusel si es necesario */
.featured-books-carousel-wrapper .carousel-control-prev,
.featured-books-carousel-wrapper .carousel-control-next {
  width: 5%; /* Ocupan menos espacio */
  opacity: 0.7;
}

.featured-books-carousel-wrapper .carousel-control-prev-icon,
.featured-books-carousel-wrapper .carousel-control-next-icon {
  width: 2rem;
  height: 2rem;
  background-size: 100%, 100%;
  border-radius: 50%;
  background-color: rgba(
    255,
    255,
    255,
    0.3
  ); /* Fondo semitransparente para los iconos */
}

/* --- MEDIA QUERIES PARA RESPONSIVIDAD --- */

/* Ajustes para pantallas grandes (ej. más de 992px) - para mostrar 3 por fila */
@media (min-width: 992px) {
  .featured-books-carousel-wrapper .carousel-item .d-flex {
    gap: 2rem; /* Espacio entre tarjetas en pantallas grandes */
  }
}

/* Tabletas y pantallas medianas (768px a 991px) */
@media (min-width: 768px) and (max-width: 991px) {
  .featured-book-item {
    width: 100%; /* Ocupa todo el ancho disponible en la columna de Bootstrap */
    max-width: 280px; /* Limita el tamaño de la tarjeta individual */
    height: 450px;
  }
  .featured-books-carousel-wrapper .carousel-item .d-flex {
    gap: 1.5rem; /* Espacio entre tarjetas */
  }
}

/* Móviles pequeños (hasta 767px) */
@media (max-width: 767px) {
  .featured-book-item {
    width: 100%;
    max-width: 220px; /* Un ancho máximo para la tarjeta */
    height: 380px; /* Altura fija para la tarjeta completa */
    display: flex;
    flex-direction: column; /* Asegura que la imagen y el overlay se comporten correctamente */
  }

  .card-image-wrapper {
    position: relative;
    width: 100%;
    height: 100%; /* La imagen wrapper ocupa toda la altura de la tarjeta */
    overflow: hidden;
  }

  .featured-book-image {
    width: 100%;
    height: 100%; /* La imagen ocupa todo el wrapper */
    object-fit: cover;
    object-position: center;
  }

  .featured-book-info-overlay {
    position: absolute; /* El overlay se superpone a la imagen */
    bottom: 0;
    left: 0;
    right: 0;
    background: rgba(
      0,
      0,
      0,
      0.75
    ); /* Fondo semitransparente más sólido para mejor legibilidad */
    color: white;
    padding: 10px;
    display: flex;
    flex-direction: column;
    justify-content: flex-end;
    max-height: 100%; /* Asegura que el overlay no se desborde */
    box-sizing: border-box; /* Incluye padding y borde en el ancho/alto */
  }

  .featured-book-info-overlay .card-title {
    font-size: 1.1rem; /* Un poco más pequeño en móviles */
    margin-bottom: 0.2rem;
  }

  .featured-book-info-overlay .card-text {
    font-size: 0.75rem; /* Más pequeño para la descripción/autor */
    margin-bottom: 0.1rem;
  }

  .featured-book-info-overlay h5.text-success {
    font-size: 1.2rem; /* Precio un poco más pequeño */
    margin-top: 0.3rem;
    margin-bottom: 0;
  }

  .category-tag {
    align-self: flex-start; /* Alinea la categoría a la izquierda dentro del overlay */
    font-size: 0.65rem;
    padding: 2px 6px;
    margin-top: 2px;
  }
}

/* Ajustes para pantallas muy pequeñas si lo necesitas */
@media (max-width: 480px) {
  .featured-book-item {
    max-width: 180px; /* Aún más pequeño en móviles muy chicos */
    height: 320px; /* Ajusta la altura si es necesario */
  }
  .featured-book-info-overlay {
    padding: 8px;
  }
  .featured-book-info-overlay .card-title {
    font-size: 0.95rem;
  }
  .featured-book-info-overlay h5.text-success {
    font-size: 1.1rem;
  }
  .featured-book-info-overlay .card-text {
    font-size: 0.68rem;
  }
}
